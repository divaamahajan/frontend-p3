{"ast":null,"code":"import React,{useState,useEffect}from'react';import{engagementApi}from'../../services/engagementApi';import SentimentChart from'./SentimentChart';import ChannelList from'./ChannelList';import WeeklyTrends from'./WeeklyTrends';import BurnoutWarnings from'./BurnoutWarnings';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _weeklyTrends$burnout;const[channels,setChannels]=useState([]);const[weeklyTrends,setWeeklyTrends]=useState(null);const[burnoutWarnings,setBurnoutWarnings]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=async()=>{try{setLoading(true);const[channelsRes,trendsRes,warningsRes]=await Promise.all([engagementApi.getChannels(),engagementApi.getWeeklyTrends(),engagementApi.getBurnoutWarnings()]);setChannels(channelsRes.data);setWeeklyTrends(trendsRes.data);setBurnoutWarnings(warningsRes.data);}catch(error){console.error('Error fetching dashboard data:',error);// Add user-friendly error handling\nalert('Failed to load dashboard data. Please try again.');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:\"Employee Engagement Pulse\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-2\",children:\"Active Channels\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:channels.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-2\",children:\"Total Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600\",children:(weeklyTrends===null||weeklyTrends===void 0?void 0:weeklyTrends.total_messages)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-2\",children:\"Burnout Risk\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold \".concat((weeklyTrends===null||weeklyTrends===void 0?void 0:weeklyTrends.burnout_risk)==='high'?'text-red-600':(weeklyTrends===null||weeklyTrends===void 0?void 0:weeklyTrends.burnout_risk)==='medium'?'text-yellow-600':'text-green-600'),children:(weeklyTrends===null||weeklyTrends===void 0?void 0:(_weeklyTrends$burnout=weeklyTrends.burnout_risk)===null||_weeklyTrends$burnout===void 0?void 0:_weeklyTrends$burnout.toUpperCase())||'LOW'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(SentimentChart,{weeklyTrends:weeklyTrends}),/*#__PURE__*/_jsx(WeeklyTrends,{data:weeklyTrends})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(ChannelList,{channels:channels}),/*#__PURE__*/_jsx(BurnoutWarnings,{warnings:burnoutWarnings})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","engagementApi","SentimentChart","ChannelList","WeeklyTrends","BurnoutWarnings","jsx","_jsx","jsxs","_jsxs","Dashboard","_weeklyTrends$burnout","channels","setChannels","weeklyTrends","setWeeklyTrends","burnoutWarnings","setBurnoutWarnings","loading","setLoading","fetchDashboardData","channelsRes","trendsRes","warningsRes","Promise","all","getChannels","getWeeklyTrends","getBurnoutWarnings","data","error","console","alert","className","children","length","total_messages","concat","burnout_risk","toUpperCase","warnings"],"sources":["/Users/achin.gupta/Documents/mycode/buildathon-templates/p3/frontend-p3/src/components/engagement/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { engagementApi } from '../../services/engagementApi';\nimport SentimentChart from './SentimentChart';\nimport ChannelList from './ChannelList';\nimport WeeklyTrends from './WeeklyTrends';\nimport BurnoutWarnings from './BurnoutWarnings';\n\nconst Dashboard = () => {\n  const [channels, setChannels] = useState([]);\n  const [weeklyTrends, setWeeklyTrends] = useState(null);\n  const [burnoutWarnings, setBurnoutWarnings] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      const [channelsRes, trendsRes, warningsRes] = await Promise.all([\n        engagementApi.getChannels(),\n        engagementApi.getWeeklyTrends(),\n        engagementApi.getBurnoutWarnings()\n      ]);\n\n      setChannels(channelsRes.data);\n      setWeeklyTrends(trendsRes.data);\n      setBurnoutWarnings(warningsRes.data);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n      // Add user-friendly error handling\n      alert('Failed to load dashboard data. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\n          Employee Engagement Pulse\n        </h1>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Active Channels</h3>\n            <p className=\"text-3xl font-bold text-blue-600\">{channels.length}</p>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Total Messages</h3>\n            <p className=\"text-3xl font-bold text-green-600\">{weeklyTrends?.total_messages || 0}</p>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Burnout Risk</h3>\n            <p className={`text-3xl font-bold ${\n              weeklyTrends?.burnout_risk === 'high' ? 'text-red-600' :\n              weeklyTrends?.burnout_risk === 'medium' ? 'text-yellow-600' : 'text-green-600'\n            }`}>\n              {weeklyTrends?.burnout_risk?.toUpperCase() || 'LOW'}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n          <SentimentChart weeklyTrends={weeklyTrends} />\n          <WeeklyTrends data={weeklyTrends} />\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <ChannelList channels={channels} />\n          <BurnoutWarnings warnings={burnoutWarnings} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}