{"ast":null,"code":"import _objectSpread from\"/Users/achin.gupta/Documents/mycode/buildathon-templates/p3/frontend-p3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{engagementApi}from'../../services/engagementApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChannelList=_ref=>{let{channels}=_ref;const[newChannel,setNewChannel]=useState({channel_id:'',channel_name:''});const[adding,setAdding]=useState(false);const handleAddChannel=async e=>{e.preventDefault();if(!newChannel.channel_id||!newChannel.channel_name)return;try{setAdding(true);await engagementApi.addChannel(_objectSpread(_objectSpread({},newChannel),{},{is_active:true}));setNewChannel({channel_id:'',channel_name:''});// In a real app, you'd update the parent state instead of reloading\nwindow.location.reload();}catch(error){console.error('Error adding channel:',error);alert('Failed to add channel. Please try again.');}finally{setAdding(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base sm:text-lg font-semibold text-gray-700 mb-4\",children:\"Monitored Channels\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddChannel,className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Channel ID\",value:newChannel.channel_id,onChange:e=>setNewChannel(_objectSpread(_objectSpread({},newChannel),{},{channel_id:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Channel Name\",value:newChannel.channel_name,onChange:e=>setNewChannel(_objectSpread(_objectSpread({},newChannel),{},{channel_name:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:adding,className:\"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50\",children:adding?'Adding...':'Add Channel'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:channels.map(channel=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:channel.channel_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 ml-2\",children:[\"#\",channel.channel_id]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(channel.is_active?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:channel.is_active?'Active':'Inactive'})]},channel.channel_id))})]});};export default ChannelList;","map":{"version":3,"names":["React","useState","engagementApi","jsx","_jsx","jsxs","_jsxs","ChannelList","_ref","channels","newChannel","setNewChannel","channel_id","channel_name","adding","setAdding","handleAddChannel","e","preventDefault","addChannel","_objectSpread","is_active","window","location","reload","error","console","alert","className","children","onSubmit","type","placeholder","value","onChange","target","disabled","map","channel","concat"],"sources":["/Users/achin.gupta/Documents/mycode/buildathon-templates/p3/frontend-p3/src/components/engagement/ChannelList.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { engagementApi } from '../../services/engagementApi';\n\nconst ChannelList = ({ channels }) => {\n  const [newChannel, setNewChannel] = useState({ channel_id: '', channel_name: '' });\n  const [adding, setAdding] = useState(false);\n\n  const handleAddChannel = async (e) => {\n    e.preventDefault();\n    if (!newChannel.channel_id || !newChannel.channel_name) return;\n\n    try {\n      setAdding(true);\n      await engagementApi.addChannel({\n        ...newChannel,\n        is_active: true\n      });\n      \n      setNewChannel({ channel_id: '', channel_name: '' });\n      // In a real app, you'd update the parent state instead of reloading\n      window.location.reload();\n    } catch (error) {\n      console.error('Error adding channel:', error);\n      alert('Failed to add channel. Please try again.');\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-4 sm:p-6\">\n      <h3 className=\"text-base sm:text-lg font-semibold text-gray-700 mb-4\">Monitored Channels</h3>\n      \n      <form onSubmit={handleAddChannel} className=\"mb-4\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n          <input\n            type=\"text\"\n            placeholder=\"Channel ID\"\n            value={newChannel.channel_id}\n            onChange={(e) => setNewChannel({...newChannel, channel_id: e.target.value})}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Channel Name\"\n            value={newChannel.channel_name}\n            onChange={(e) => setNewChannel({...newChannel, channel_name: e.target.value})}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={adding}\n          className=\"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50\"\n        >\n          {adding ? 'Adding...' : 'Add Channel'}\n        </button>\n      </form>\n\n      <div className=\"space-y-2\">\n        {channels.map((channel) => (\n          <div key={channel.channel_id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n            <div>\n              <span className=\"font-medium text-gray-700\">{channel.channel_name}</span>\n              <span className=\"text-sm text-gray-500 ml-2\">#{channel.channel_id}</span>\n            </div>\n            <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n              channel.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n            }`}>\n              {channel.is_active ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelList;\n"],"mappings":"4JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,aAAa,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,CAAEW,UAAU,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CAClF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAe,gBAAgB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACpCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACR,UAAU,CAACE,UAAU,EAAI,CAACF,UAAU,CAACG,YAAY,CAAE,OAExD,GAAI,CACFE,SAAS,CAAC,IAAI,CAAC,CACf,KAAM,CAAAb,aAAa,CAACiB,UAAU,CAAAC,aAAA,CAAAA,aAAA,IACzBV,UAAU,MACbW,SAAS,CAAE,IAAI,EAChB,CAAC,CAEFV,aAAa,CAAC,CAAEC,UAAU,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CACnD;AACAS,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CE,KAAK,CAAC,0CAA0C,CAAC,CACnD,CAAC,OAAS,CACRZ,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,mBACET,KAAA,QAAKsB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzB,IAAA,OAAIwB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAE7FvB,KAAA,SAAMwB,QAAQ,CAAEd,gBAAiB,CAACY,SAAS,CAAC,MAAM,CAAAC,QAAA,eAChDvB,KAAA,QAAKsB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzB,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,YAAY,CACxBC,KAAK,CAAEvB,UAAU,CAACE,UAAW,CAC7BsB,QAAQ,CAAGjB,CAAC,EAAKN,aAAa,CAAAS,aAAA,CAAAA,aAAA,IAAKV,UAAU,MAAEE,UAAU,CAAEK,CAAC,CAACkB,MAAM,CAACF,KAAK,EAAC,CAAE,CAC5EL,SAAS,CAAC,sHAAsH,CACjI,CAAC,cACFxB,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAEvB,UAAU,CAACG,YAAa,CAC/BqB,QAAQ,CAAGjB,CAAC,EAAKN,aAAa,CAAAS,aAAA,CAAAA,aAAA,IAAKV,UAAU,MAAEG,YAAY,CAAEI,CAAC,CAACkB,MAAM,CAACF,KAAK,EAAC,CAAE,CAC9EL,SAAS,CAAC,sHAAsH,CACjI,CAAC,EACC,CAAC,cACNxB,IAAA,WACE2B,IAAI,CAAC,QAAQ,CACbK,QAAQ,CAAEtB,MAAO,CACjBc,SAAS,CAAC,+FAA+F,CAAAC,QAAA,CAExGf,MAAM,CAAG,WAAW,CAAG,aAAa,CAC/B,CAAC,EACL,CAAC,cAEPV,IAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBpB,QAAQ,CAAC4B,GAAG,CAAEC,OAAO,eACpBhC,KAAA,QAA8BsB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eACnGvB,KAAA,QAAAuB,QAAA,eACEzB,IAAA,SAAMwB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAES,OAAO,CAACzB,YAAY,CAAO,CAAC,cACzEP,KAAA,SAAMsB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,GAAC,CAACS,OAAO,CAAC1B,UAAU,EAAO,CAAC,EACtE,CAAC,cACNR,IAAA,SAAMwB,SAAS,+CAAAW,MAAA,CACbD,OAAO,CAACjB,SAAS,CAAG,6BAA6B,CAAG,yBAAyB,CAC5E,CAAAQ,QAAA,CACAS,OAAO,CAACjB,SAAS,CAAG,QAAQ,CAAG,UAAU,CACtC,CAAC,GATCiB,OAAO,CAAC1B,UAUb,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}