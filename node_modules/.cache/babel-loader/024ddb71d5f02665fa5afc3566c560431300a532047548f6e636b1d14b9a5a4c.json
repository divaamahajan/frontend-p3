{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import Navbar from'./components/Navbar';import Home from\"./components/Home\";import Chat from\"./components/chatbot/ChatWindow\";import QA from\"./components/QAchatbot/QAChatWindow\";import Filehandler from\"./components/filehandler/Filehandler\";import LoginView from'./components/login/LoginView';import ProfileView from'./components/login/ProfileView';import Dashboard from\"./components/engagement/Dashboard\";import ErrorBoundary from\"./components/engagement/ErrorBoundary\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(()=>{const savedUser=localStorage.getItem(\"user\");return savedUser?JSON.parse(savedUser):null;});const handleLoginSuccess=data=>{setUser(data.user);localStorage.setItem(\"token\",data.access_token);localStorage.setItem(\"user\",JSON.stringify(data.user));};const handleLogout=()=>{setUser(null);localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(LoginView,{onLoginSuccess:handleLoginSuccess}):/*#__PURE__*/_jsx(Navigate,{to:\"/home\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:/*#__PURE__*/_jsx(Chat,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/qa\",element:/*#__PURE__*/_jsx(QA,{user:user,token:localStorage.getItem(\"token\")})}),/*#__PURE__*/_jsx(Route,{path:\"/filehandler\",element:/*#__PURE__*/_jsx(Filehandler,{user:user,token:localStorage.getItem(\"token\")})}),/*#__PURE__*/_jsx(Route,{path:\"/engagement\",element:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Dashboard,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Dashboard,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:user?/*#__PURE__*/_jsx(ProfileView,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})]});}export default App;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","Navbar","Home","Chat","QA","Filehandler","LoginView","ProfileView","Dashboard","ErrorBoundary","jsx","_jsx","jsxs","_jsxs","App","user","setUser","savedUser","localStorage","getItem","JSON","parse","handleLoginSuccess","data","setItem","access_token","stringify","handleLogout","removeItem","children","onLogout","path","element","onLoginSuccess","to","replace","token"],"sources":["/Users/achin.gupta/Documents/mycode/buildathon-templates/p3/frontend-p3/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport Navbar from './components/Navbar';\nimport Home from \"./components/Home\";\nimport Chat from \"./components/chatbot/ChatWindow\";\nimport QA from \"./components/QAchatbot/QAChatWindow\";\nimport Filehandler from \"./components/filehandler/Filehandler\";\nimport LoginView from './components/login/LoginView';\nimport ProfileView from './components/login/ProfileView';\nimport Dashboard from \"./components/engagement/Dashboard\";\nimport ErrorBoundary from \"./components/engagement/ErrorBoundary\";\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    return savedUser ? JSON.parse(savedUser) : null;\n  });\n\n  const handleLoginSuccess = (data) => {\n    setUser(data.user);\n    localStorage.setItem(\"token\", data.access_token);\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n  };\n\n  return (\n    <Router>\n      <Navbar user={user} onLogout={handleLogout} />\n\n      <Routes>\n        <Route path=\"/\" element={<Home user={user} />} />\n        <Route path=\"/home\" element={<Home user={user} />} />\n\n        <Route\n          path=\"/login\"\n          element={!user ? <LoginView onLoginSuccess={handleLoginSuccess} /> : <Navigate to=\"/home\" replace />}\n        />\n\n        <Route path=\"/chat\" element={<Chat user={user} />} />\n        <Route path=\"/qa\" element={<QA user={user} token={localStorage.getItem(\"token\")} />} />\n        <Route path=\"/filehandler\" element={<Filehandler user={user} token={localStorage.getItem(\"token\")} />} />\n        <Route path=\"/engagement\" element={\n          <ErrorBoundary>\n            <Dashboard user={user} />\n          </ErrorBoundary>\n        } />\n        <Route path=\"/dashboard\" element={\n          <ErrorBoundary>\n            <Dashboard user={user} />\n          </ErrorBoundary>\n        } />\n\n        <Route\n          path=\"/profile\"\n          element={user ? <ProfileView user={user} /> : <Navigate to=\"/login\" replace />}\n        />\n\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}